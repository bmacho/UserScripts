
##page own fonts Switcher##

 
:u7a7a: &nbsp; <a href=https://addons.mozilla.org/firefox/addon/custom-buttons/>*Custom Button*</a> for toggling <br> <i>Tools->Options->Content->Fonts&Colors[Advanced]-></i> <b>[] Allow pages to choose their own fonts </b><br>preference

**Installation**: copy-paste the following code into Firefox URL bar

<pre><code>custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3Epage%20own%20fonts%20Switcher%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWklEQVR42mNQUFBgwIVL26b/B2F8ahgoNgCmiFzMQDUvkGozTgMIuYCgAcgKsLGJcgE+ZxPtApLDAFcMEIoJojTjMwRv3OPzO94wwBVlWMMAnxMJiVM3KZOLAbc2SFpozMGIAAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E2%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/**%0ASwitcher%20for%20Tools-%3EOptions-%3EContent-%3EFonts%26Colors%5BAdvanced%5D-%3E%20%5B%5D%20Allow%20pages%20to%20choose%20their%20own%20fonts%0Abased%20on%20Preference%20Switcher%20%28Basic%29%20by%20Odyseus%0A%20**/%0Avar%20prefName%20%3D%20%22browser.display.use_document_fonts%22%3B%20//%20Integer%0Avar%20showNotification%20%3D%20false%3B%0Avar%20prefValues%20%3D%20%5B0%2C%201%5D%3B%0Avar%20prefImages%20%3D%20%5B%0A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWklEQVR42mNQUFBgwIVL26b/B2F8ahgoNgCmiFzMQDUvkGozTgMIuYCgAcgKsLGJcgE+ZxPtApLDAFcMEIoJojTjMwRv3OPzO94wwBVlWMMAnxMJiVM3KZOLAbc2SFpozMGIAAAAAElFTkSuQmCC%22%2C%0A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUElEQVR42mNgwAPY6hn+gzADuYAoA2CKyMUMVPMCxTZjkyBWDKsL0BWT5AJ8zibaBRSFPlFOJidGSE59RPkdm624ogyra/A5kZA4dZMyuQAAZtugqYF9qE0AAAAASUVORK5CYII%3D%22%0A%5D%3B%0A%0Avar%20llii%3D1%2C%20_log%20%3D%20function%20%28%29%20%7B%0A%20/*%20*/%0Afor%20%28var%20s%20%3D%20%22useDocFont%22%20+%20llii++%20+%20%27%3A%27%2C%20li%20%3D%20arguments.length%2C%20i%20%3D%200%3B%20i%20%3C%20li%3B%20i++%29%0A%20%20s%20+%3D%20%27%20%27%20+%20arguments%5Bi%5D%3B%0A%20Components.classes%5B%22@mozilla.org/consoleservice%3B1%22%5D%0A%20.getService%28Components.interfaces.nsIConsoleService%29%0A%20.logStringMessage%28s%29%3B%0A%20/*%20*/%0A%7D%0A%0Athis.onclick%20%3D%20function%20%28aE%29%20%7B%0A%20if%20%28aE.button%20%21%3D%3D%202%29%0A%20%20aE.preventDefault%28%29%3B%0A%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21accel%28aE%29%20%26%26%20%21aE.altKey%29%20%7B%0A%20%20self.setPref%28%29%3B%0A%20%7D%0A%20aE.stopPropagation%28%29%3B%0A%7D%3B%0A%0Athis.setPref%20%3D%20function%20%28%29%20%7B%0A%20var%20val%2Cix%3D0%3B%0A%20switch%20%28self._prefType%29%20%7B%0A%20case%2064%3A%0A%20%20val%20%3D%20Services.prefs.getIntPref%28prefName%2C%20true%29%3B%0A%20%20prefValues.some%28%28v%2Ci%29%20%3D%3E%20%28val%3D%3Dv%29%20%26%26%20%28ix%3Di+1%29%29%3B%0A%20%20if%28ix%20%3E%3D%20prefValues.length%29%20ix%3D0%3B%0A%20%20Services.prefs.setIntPref%28prefName%2C%20prefValues%5Bix%5D%29%3B%0A%20%20break%3B%0A%20default%3A%0A%20%20_log%28%20prefName%2C%20%22not%20present%21%20%22+self._prefType%29%3B%0A%20%20return%3B%0A%20%7D%0A%20setSelfImage%28%29%3B%0A%20setSelfTooltip%28%29%3B%0A%20//_log%28prefName%2C%22%3D%22%2CString%28getPref%28prefName%29%29%29%3B%0A%20Services.prefs.savePrefFile%28null%29%3B%0A%7D%3B%0A%0Afunction%20setSelfTooltip%28%29%20%7B%0A%20let%20pVal%20%3D%20getPref%28prefName%29%3B%0A%20self.tooltipText%20%3D%20%0A%20%20%27page%20fonts%3A%20O%27%20+%20%28pVal%20%3F%20%27N%27%20%3A%20%27FF%27%29%3B%0A%7D%0A%0Afunction%20setSelfImage%28%29%20%7B%0A%20let%20val%20%3D%20getPref%28prefName%29%2C%20img%3B%0A%20prefValues.some%28%28v%2C%20i%29%20%3D%3E%20%28val%3D%3Dv%29%20%26%26%20%28img%20%3D%20prefImages%5Bi%5D%2C%201%29%29%3B%0A%20img%20%26%26%20%28self.image%20%3D%20img%29%3B%0A%7D%0A%0Afunction%20getPref%28aKey%29%20%7B%0A%20switch%20%28self._prefType%29%20%7B%0A%20case%20128%3A%0A%20%20return%20Services.prefs.getBoolPref%28aKey%29%3B%0A%20case%2064%3A%0A%20%20return%20Services.prefs.getIntPref%28aKey%29%3B%0A%20case%2032%3A%0A%20%20return%20Services.prefs.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%20default%3A%0A%20%20return%20null%3B%0A%20%7D%0A%7D%0A%0Afunction%20accel%28aE%29%20%7B%0A%20if%20%28aE%29%0A%20%20return%20self._isOSX%20%3F%20aE.metaKey%20%3A%20aE.ctrlKey%3B%0A%20return%20self._isOSX%20%3F%20%22OSX%22%20%3A%20%22msdos%22%3B%0A%7D%0A%0Athis._prefName%20%3D%20prefName%3B%0Athis._prefValues%20%3D%20prefValues%3B%0Athis._prefType%20%3D%20Services.prefs.getPrefType%28prefName%29%3B%0Athis._nsISS%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0Athis._isOSX%20%3D%20Services.appinfo.OS.toLowerCase%28%29.startsWith%28%22darwin%22%29%3B%0A%0AsetSelfImage%28%29%3B%0AsetSelfTooltip%28%29%3B%0A/***%20Code%20***%20/%0Aif%20%28%21event.target%20%26%26%20%21this.disabled%29%0Athis.setPref%28false%2C%20false%29%3B%0A/************/%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%20%28%21event.target%20%26%26%20%21this.disabled%29%0A%09this.setPref%28false%2C%20false%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5BCtrl+%2C%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E</code></pre>

---